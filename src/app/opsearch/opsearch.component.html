<div [ngClass]="page_class">
	<div class="domain-container" [@domainTransform]="isScrolledToTop ? 'default' : 'transform'">
		<p [ngClass]="domain_title_class">{{domain}}</p>
	</div>

	<div class="shadow-container" [@searchTransform]="isScrolledToTop ? 'default' : 'transform'" [@shadowTrigger]="isScrolledToTop ? 'hasNoShadow' : 'hasShadow'">
		<form [formGroup]="searchForm" (ngSubmit)="search()">
			<div class="search-container">
				<div class="search-bar">
					<mat-icon [ngClass]="search_icon_class">search</mat-icon>
					<input [ngClass]="search_input_class" type="text" id="searchstring" name="searchstring" placeholder="Search" autocomplete="off" autocorrect="off" spellcheck="false" formControlName="searchstring">
					<div class="search-type-toggle">
						<mat-button-toggle-group name="search-type-toggle" formControlName="searchtype">
							<mat-button-toggle *ngFor="let type of search_types" disableRipple id="{{type.name}}" value="{{type.name}}">{{type.name}}</mat-button-toggle>
						</mat-button-toggle-group>
					</div>
				</div>
				<div class="filter-container">
					<div class="domain-filter">
						<mat-placeholder class="domain-filter-label"><div class="domain-filter-icon"></div><span class="domain-label-string">Domain</span></mat-placeholder>
						<mat-select disableOptionCentering>
						</mat-select>
					</div>
					<div class="sub-filter">
						<mat-placeholder class="sub-filter-label"><mat-icon class="sub-icon" fontSet="material-icons-outlined">settings</mat-icon><span class="sub-label-string">Opps&nbsp;Type</span></mat-placeholder>
						<mat-select disableOptionCentering>
						</mat-select>
					</div>
					<div class="sub-filter">
						<mat-placeholder class="sub-filter-label"><mat-icon class="sub-icon" fontSet="material-icons-outlined">calendar_today</mat-icon><span class="sub-label-string">Date</span></mat-placeholder>
						<mat-select disableOptionCentering>
						</mat-select>
					</div>
					<div class="sub-filter">
						<mat-placeholder class="sub-filter-label"><mat-icon class="sub-icon" fontSet="material-icons-outlined">location_on</mat-icon><span class="sub-label-string">Region</span></mat-placeholder>
						<mat-select disableOptionCentering>
						</mat-select>
					</div>
					<div class="sub-filter">
						<mat-placeholder class="sub-filter-label"><mat-icon class="sub-icon" fontSet="material-icons-outlined">attach_money</mat-icon><span class="sub-label-string">Funding</span></mat-placeholder>
						<mat-select disableOptionCentering>
						</mat-select>
					</div>
					<div *ngIf='false' class="sort-filter">
						<mat-placeholder class="sub-filter-label"><mat-icon class="sub-icon" fontSet="material-icons-outlined">sort</mat-icon><span class="sub-label-string">Sort</span></mat-placeholder>
						<mat-select disableOptionCentering>
						</mat-select>
					</div>
				</div>
			</div>
		</form>
	</div>

	<div [ngClass]="list_class" (scroll)="scrolled()" #scrollFrame [@searchTransform]="isScrolledToTop ? 'default' : 'transform'" [style.height.px]="scrollContainerHeight">
		<div *ngIf="searchForm.value['searchtype'] == 'Opps'" class="opps-list-inner">
			<div class="opp-card-container" *ngFor="let opportunity of opportunity_list">
				<app-opps-card [opps]="opportunity"></app-opps-card>
			</div>
		</div>
		<div *ngIf="searchForm.value['searchtype'] == 'People'" class="user-list-inner">
			<div class="user-card-container" *ngFor="let user of user_list">
				<app-user-card [user]="user"></app-user-card>
			</div>
		</div>
	</div>
</div>
<!--<form #searchForm="ngForm">
	<div class="search-container" [style.border-color]="getMainColor()">
		<mat-icon class="search-icon" [style.color]="getMainColor()">search</mat-icon>
		<input (keyup.enter)="search(searchForm)" class="search" type="text" id="searchstring" name="searchstring" placeholder="Search" [style.color]="getMainColor()" [ngModel]="searchstring" ngModel required>
		<div class="search-choice">
			<mat-button-toggle-group name="search-choice" aria-label="Search Choice">
				<mat-button-toggle id="opps" [ngClass]="getDomain()" value="Opps">Opps</mat-button-toggle>
				<mat-button-toggle id= "people" [ngClass]="getDomain()" value="People">People</mat-button-toggle>
			</mat-button-toggle-group>
		</div>
	</div>
</form>

<div class="opps-list">
	<app-opps-card *ngFor="let opportunity of opportunity_list" [opps]="opportunity"></app-opps-card>
</div>-->